{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>SHANYRAQ Journal</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="icon" type="image/png" href="/media/logo.png">
  <style>
    body {
      margin: 0;
      background: #F5F0E8;
      font-family: 'Inter', sans-serif;
    }

    /* === –®–ê–ü–ö–ê ‚Äî —Å—Ç–µ–∫–ª—è–Ω–Ω–∞—è –∏ –ø–ª–∞–≤–∞—é—â–∞—è === */
    header {
      background: rgba(237, 230, 218, 0.75);
      backdrop-filter: blur(12px) saturate(180%);
      -webkit-backdrop-filter: blur(12px) saturate(180%);
      border-bottom: 1px solid rgba(226, 216, 200, 0.4);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 0;
      z-index: 50;
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }

    /* –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ —à–∞–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á—É—Ç—å –ø–ª–æ—Ç–Ω–µ–µ */
    header.scrolled {
      background: rgba(237, 230, 218, 0.92);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.1);
    }

    .main-nav {
      max-width: 1200px;
      margin: 0 auto;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 28px;
      gap: 24px;
      transition: 0.3s;
    }

    /* –õ–æ–≥–æ—Ç–∏–ø —Å–ª–µ–≤–∞ */
    .logo {
      font-size: 22px;
      font-weight: 900;
      color: #8B5CF6;
      text-decoration: none;
      letter-spacing: .5px;
      margin-right: 8px;
    }

    /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞ —Å—Å—ã–ª–æ–∫ */
    .nav-left {
      display: flex;
      align-items: center;
      gap: 22px;
      margin-left: 12px;
      flex: 1;
    }

    /* –°—Å—ã–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
    .nav-link {
      text-decoration: none;
      color: #0A0A0A;
      font-weight: 700;
      padding: 10px 4px;
      border-radius: 8px;
      transition: .2s ease;
    }

    .nav-link:hover { color: #8B5CF6; }

    /* –ö–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞ */
    .nav-right {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-left: auto;
    }

    .btn-profile {
      background-color: #8B5CF6;
      color: white !important;
      padding: 10px 22px;
      border-radius: 14px;
      font-weight: 800;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.25s ease;
    }

    .btn-profile:hover {
      background-color: #7C3AED;
      transform: translateY(-1px);
    }

    .btn-admin {
      background-color: #EDE9FE;
      color: #5B21B6 !important;
      padding: 9px 18px;
      border-radius: 12px;
      border: 1px solid #C4B5FD;
      font-weight: 700;
      text-decoration: none;
      transition: all 0.25s ease;
    }

    .btn-admin:hover {
      background-color: #DDD6FE;
      transform: translateY(-1px);
      box-shadow: 0 2px 6px rgba(139,92,246,0.3);
    }

    /* –ü—Ä–æ—Ñ–∏–ª—å dropdown */
    .profile-dropdown { position: relative; display: inline-block; }
    .profile-dropdown:hover .dropdown-content {
      opacity: 1; visibility: visible; transform: translateY(0);
    }
    .dropdown-content {
      position: absolute; right: 0; top: 110%;
      min-width: 200px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 10px 20px rgba(0,0,0,.08);
      padding: 8px 0;
      opacity: 0; visibility: hidden; transform: translateY(-8px);
      transition: .22s ease;
      z-index: 100;
    }
    .dropdown-content a {
      display: block; padding: 10px 16px;
      color: #0A0A0A; text-decoration: none; font-weight: 600;
    }
    .dropdown-content a:hover { background: #F5F0E8; color: #8B5CF6; }
    .divider { height: 1px; background: #EFEAE2; margin: 6px 0; }

    /* === –§–£–¢–ï–† === */
    .site-footer {
      background: #F1EBE1;
      border-top: 1px solid #E6DFD2;
      padding: 25px 0;
      text-align: center;
      margin-top: 80px;
      color: #5C5C5C;
      font-size: 15px;
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .footer-content span {
      color: #8B5CF6;
      font-weight: 700;
    }

    .footer-link {
      color: #8B5CF6;
      text-decoration: none;
      font-weight: 600;
      transition: 0.2s;
    }

    .footer-link:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
<header>
  <nav class="main-nav">
    <a href="/" class="logo">SHANYRAQ</a>

    <div class="nav-left">
      <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
      <a class="nav-link" href="/categories/">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
      <a class="nav-link" href="/tests/">–¢–µ—Å—Ç—ã</a>
      <a class="nav-link" href="/about/">–û –Ω–∞—Å</a>
    </div>

    <div class="nav-right">
      {% if user.is_authenticated %}
        <div class="profile-dropdown">
          <a href="{% url 'profile' %}" class="btn-profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
          <div class="dropdown-content">
            <a href="{% url 'profile' %}">üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
            <a href="{% url 'settings' %}">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
            <div class="divider"></div>
            <a href="{% url 'logout' %}">üö™ –í—ã–π—Ç–∏</a>
          </div>
        </div>

        <a href="/admin/" class="btn-admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
      {% else %}
        <a href="{% url 'login' %}" class="btn-profile">–í–æ–π—Ç–∏</a>
        <a href="{% url 'register' %}" class="btn-admin">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      {% endif %}
    </div>
  </nav>
</header>

<main>
  {% block content %}
  {% endblock %}
</main>

<!-- ======== FOOTER ======== -->
<footer class="site-footer">
  <div class="footer-content">
    <p>¬© {% now "Y" %} <span>SHANYRAQ Journal</span>. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <a href="/privacy/" class="footer-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
  </div>
</footer>

<script>
  // –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –¥–æ–±–∞–≤–ª—è–µ–º / —É–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å .scrolled
  window.addEventListener('scroll', function() {
    const header = document.querySelector('header');
    if (window.scrollY > 10) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
  });
</script>
</body>
</html>
